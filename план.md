# udp, tcp, http, web, rack, sinatra

## План

Протоколы снизу вверх: от физики до текста
HTTP: формат, коды, глаголы, хедеры, демо для потрогать
web: процесс от запроса до ответа. cookie, web-сервер, app-сервер/приложение
SGI
rack: базовый интерфейс web-server, middleware

## OSI

?что такое протокол
провода, мобильная сеть, вафля: физические законы -> двоичные данные
Ethernet, WiFi, ... -> кадры
**слайд: Ethernet-кадр**
ip: пакеты (адрес отправителя/получателя, полезная нагрузка), маршрутизация
**слайд: формат заголовка ip**

## UDP

udp: датаграммы (порт, данные), порты
**слайд: формат заголовка UDP**
ненадёжность (потери, порядок, дубликаты)
**слайд: UDP pros/cons**
**слайд: UDP-датаграмма**

## TCP

tcp: поток данных (сегментов). Контроль доставки, порядка. Структура сегмента: пор. номер, номер подтверждения, флаги. Рукопожатие. Состояние сеанса
**слайд: формат заголовка TCP**
**слайд: временная диаграмма рукопожатия**
**слайд: жизненный цикл соединения**
tls, https: шифрование, сами: алгоритм Даффи-Холлмана
**слайд: временная диаграмма рукопожатия TLS**

## HTTP

формат запроса
хедеры
глаголы: список, семантика
формат ответа
коды статуса
**демо: nc example.com**
cookie

## WEB

процесс от запроса до ответа
**демо: простой сервер на руби**

web-сервер: http-сервер + веб-приложение
**демо: простой аналог rack-а на руби**

## RACK

**демо: middleware**
**демо: усложнение**

## SINATRA

основы


## LINKS

OSI, IP, UDP, TCP, HTTP, TLS, HTTPS: google, wiki
rack: 
- https://rack.github.io/
- https://github.com/rack/rack
sinatra: 
- https://sinatrarb.com
- https://www.oreilly.com/library/view/sinatra-up-and/9781449306847/ch04.html
- https://blog.carbonfive.com/2013/06/24/sinatra-best-practices-part-one/
- https://blog.carbonfive.com/2013/06/28/sinatra-best-practices-part-two/
